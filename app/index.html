<!doctype html>
<html class="no-js">
  <head>
    <meta charset="utf-8">
    <title>ProjectManagementApp</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <link rel="shortcut icon" href="/favicon.ico">
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <!-- build:css(.) styles/vendor.css -->
    <!-- bower:css -->
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css" />
    <!-- endbower -->
    <!-- endbuild -->
    <!-- build:css(.tmp) styles/main.css -->
    <link rel="stylesheet" href="styles/main.css">
    <!-- endbuild -->
  </head>
  <body>
    <!--[if lt IE 10]>
      <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
    <![endif]-->


    <div class='container'>
      <div class='header'>
        <ul class='nav nav-pills pull-right'>
          <li class='active'><a href='/'>Home</a></li>
          <li><a id='projectslink' href='#/projects'>Projects</a></li>
          <li><script>document.write('<a href="#/users/' + localStorage.getItem('currentUser') + '" >User Profile</a>')</script></li>
          <li><a id='signout' href='/'>Sign Out</a></li>
        </ul>
        <h3 class='text-muted'>KickAss ProjectManagementApp</h3>
      </div>

      <section class="jumbotron">
        <h1>Project Management</h1>
        <div class="row">
          <div class="col-md-2 col-md-offset-3"><button id="sign-up" class="btn btn-lg btn-success">Sign Up</button></div>
          <div class="col-md-2 col-md-offset-1"><button id="sign-in" class="btn btn-lg btn-success">Sign In</button></div>
        </div>
        <div id="form-slide">
          <form id='sign-up-form'>
            <fieldset>
              <div class="form-group">
                <label for="username">Username: </label>
                <input type="text" id="username" name="username"  autofocus="true" />
              </div>
              <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" autofocus="true" />
                </label>
              </div>
              <div class="form-group">
                <label for="password">Password:</label>
                <input type="password" id="password" name="password" autofocus="true"/>
              </div>
              <div class="form-group">
                <label for="title">Title:</label>
                <input type="text" id="title" name="title" autofocus="true"/>
              </div>
              <div class="form-group">
                <button id="sign-up-submit" type='submit'>Submit</button>
              </div>
            </fieldset>
          </form>
        </div>
        <div id="sign-in-form-slide">
          <form id='sign-in-form'>
            <fieldset>
              <div class="form-group">
                <label for="email">Email: </label>
                <input type="text" id="email" name="email"  autofocus='true' />
              </div>
              <div class="form-group">
                <label for="password">Password:</label>
                <input type="password" id="password" name="password" autofocus="true" />
              </div>
              <div class="form-group">
                <button id="sign-in-submit" type='submit'>Submit</button>
              </div>
            </fieldset>
          </form>
        </div>
      </section>

      <section id="container"></section>
        <div class="animation"></div>
      </section>

    </div>


    <!-- build:js(.) scripts/vendor.js -->
    <!-- bower:js -->
    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/underscore/underscore.js"></script>
    <script src="bower_components/backbone/backbone.js"></script>
    <script src="bower_components/handlebars/handlebars.js"></script>
    <!-- endbower -->
    <!-- endbuild -->

    <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
    <script>
      (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
      function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
      e=o.createElement(i);r=o.getElementsByTagName(i)[0];
      e.src='//www.google-analytics.com/analytics.js';
      r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
      ga('create','UA-XXXXX-X');ga('send','pageview');
    </script>

        <!-- build:js(.) scripts/plugins.js -->
        <script src="bower_components/bootstrap/js/affix.js"></script>
        <script src="bower_components/bootstrap/js/alert.js"></script>
        <script src="bower_components/bootstrap/js/dropdown.js"></script>
        <script src="bower_components/bootstrap/js/tooltip.js"></script>
        <script src="bower_components/bootstrap/js/modal.js"></script>
        <script src="bower_components/bootstrap/js/transition.js"></script>
        <script src="bower_components/bootstrap/js/button.js"></script>
        <script src="bower_components/bootstrap/js/popover.js"></script>
        <script src="bower_components/bootstrap/js/carousel.js"></script>
        <script src="bower_components/bootstrap/js/scrollspy.js"></script>
        <script src="bower_components/bootstrap/js/collapse.js"></script>
        <script src="bower_components/bootstrap/js/tab.js"></script>
        <!-- endbuild -->

        <!-- build:js({app,.tmp}) scripts/main.js -->
        <script src="scripts/main.js"></script>
        <script src="scripts/sign_in.js"></script>
        <script src="scripts/amazon.js"></script>

        <!-- endbuild -->

        <!-- build handlebars template for the home page, which populates with all of the submisstions from the api -->
        <script type="text/x-handlebars-template" id="usersTemplate">
          {{#each users}}
            <div class="user">
              <h2><a href="/#/users/{{id}}" >{{username}}</a></h2>
              <ul>
                <li>{{title}}</li>
                <li>{{email}}</li>
                <li><a href="/#/users/{{id}}">View this user</a></li>
              </ul>
            </div>
          {{/each}}
        </script>

        <script type="text/x-handlebars-template" id="userTemplate">
          <div class="user">
            <h2>{{user.username}}</h2>
            <img src={{user.avatar}} height="150"><br>
            <p><button id="avatar-change">Change my avatar</button></p>
            <div id="avatar-form-slide">
              <form id="avatar" action="https://s3.amazonaws.com/project-management-bucket" method="post" enctype="multipart/form-data"></form>
            </div>
            <ul>
              <li>{{user.title}}</li>
              <li>{{user.email}}</li>
              <li><a href="/#/users/{{id}}">You are viewing this user</a></li>
            </ul>
            {{#each user.tasks}}
              <p>{{name}} for: {{project}}</p>
            {{/each}}
          </div>
        </script>

        <script type="text/x-handlebars-template" id="projectsTemplate">
          <a href="#/new-project">Create a New Project!</a>
          {{#each projects}}
            <div class="project" >
              <h2><a href="#/projects/{{id}}" >{{name}}</a></h2>
              <ul>
                <li>{{description}}</li>
                <li>{{due_date}}</li>
                <li>{{privacy}}</li>
                <li><a href="/#/projects/{{id}}">View this project</a></li>
              </ul>
            </div>
          {{/each}}
        </script>

        <script type="text/x-handlebars-template" id="projectTemplate">
          <button type='button' id='new-task'>Add a Task!</button>
          <div class="project">
            <h2>{{project.name}}</h2>
            <ul>
              <li>Description: {{project.description}}</li>
              <li>Due Date: {{project.due_date}}</li>
              <li>Private? {{project.privacy}}</li>
            </ul>
            {{#each project.tasks}}
              <p><a href="/#/tasks/{{id}}">{{name}} - assigned to: {{user.username}} </a></p>
            {{/each}}
            {{#each project.user}}
              <p>{{username}} works here</p>
            {{/each}}
          </div>
          <div class="project-buttons">
            <button type='button' id='update-project'>Update this Project!</button>
            <button type='button' id='delete-project'>Delete this Project!</button>
            <button type='button' id='show-members'>Show Members!</button>
          </div>
        </script>
        <script type="text/x-handlebars-template" id="membershipTemplate">
          <div id="membership">
          {{#each user}}
            <ul>
            <li>{{username}}</li>
            </ul>
          {{/each}}
          </div>
        </script>

        <script type="text/x-handlebars-template" id="updateProjectTemplate">
          <div class="updateproject">
          <p>yo</p>
          </div>
        </script>



        <script type="text/x-handlebars-template" id="taskTemplate">
          <button type='button' id='new-comment'>Add a Comment!</button>
          <button type='button' id='update-task'>Update this Task!</button>
          <button type='button' id='delete-task'>Delete this Task!</button>
          <div class="task">
            <h2>{{task.name}}</h2>
            <ul>
              <li>Due date: {{task.due_date}}</li>
              <li>Status: {{task.status}}</li>
              <li>Priority: {{task.priority}}</li>
              <li>Order: {{task.order}}</li>
            </ul>

            <button type='button' id='task-file'>Add a file</button>
            <form id="task-form">
            </form>
            <br>
            <h3>Comments:</h3>
            <ul>
              {{#each task.comments}}
                <li>{{body}} <button type='button' class='delete-comment'>Delete!</button></li>
              {{/each}}
            </ul>
          </div>
        </script>

</body>
</html>
